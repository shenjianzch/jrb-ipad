webpackJsonp([4],{ByYQ:function(t,e){},ELJR:function(t,e,i){"use strict";function a(t){i("ByYQ")}Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1,list:[],addText:"",easyList:[{value:"麻,100",name:"全麻"},{value:"棉,100",name:"全棉"}]}},props:{chengfen:{type:Array}},methods:{add:function(t){var e=this.addText.split(",");if(this.list.some(function(t){return t.name===e[0]}))return void alert("已存在成分");2===e.length?/^[0-9]*$/.test(e[1])&&e[1]<=100&&e[1]>=0?(this.list.push({name:e[0],pers:e[1],edit:!1,value:this.addText}),this.addText=""):alert("成分比率必须是数字并小于等于100"):alert("格式错误,(例:麻,50)")},del:function(t){this.list.splice(t,1)},confi:function(t){var e=t.value.split(",");t.name=e[0],t.pers=e[1],t.edit=!1},sub:function(){console.log(this.list,"this.list"),this.$emit("update:chengfen",this.list),this.dialogVisible=!1},easyAdd:function(t){this.addText=t,this.list.length=0,this.add()}},watch:{chengfen:function(t,e){console.log(t,"值更新了"),this.list=t}}},l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"component-tab"},[i("el-dialog",{attrs:{title:"成分牌",visible:t.dialogVisible,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("ul",[i("li",t._l(t.easyList,function(e,a){return i("el-button",{key:a,attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(i){t.easyAdd(e.value)}}},[t._v(t._s(e.name))])})),t._v(" "),i("li",{staticClass:"dflexall com-title"},[i("div",{staticClass:"flex-1"},[t._v("\n          成分\n        ")]),t._v(" "),i("b",[t._v("比率")])]),t._v(" "),t._l(t.list,function(e,a){return i("li",{key:a,staticClass:"dflexall"},[e.edit?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"n.value"}],staticClass:"flex-1 add-input",attrs:{type:"text",name:"",id:""},domProps:{value:e.value},on:{input:function(i){i.target.composing||t.$set(e,"value",i.target.value)}}}),t._v(" "),i("a",{staticClass:"add",attrs:{href:""},on:{click:function(i){i.preventDefault(),t.confi(e)}}},[t._v("确定")]),t._v(" "),i("a",{staticStyle:{"margin-left":"12px"},attrs:{href:""},on:{click:function(t){t.preventDefault(),e.edit=!1}}},[t._v("取消")])]:[i("div",{staticClass:"flex-1",on:{dblclick:function(t){e.edit=!0}}},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),i("b",[t._v(t._s(e.pers)+"%")]),t._v(" "),i("a",{staticClass:"del",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.del(a)}}},[t._v("删除")])]],2)}),t._v(" "),i("li",{staticClass:"dflexall"},[i("div",{staticClass:"flex-1"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.addText,expression:"addText"}],staticClass:"add-input",attrs:{type:"text",placeholder:"请填(例：麻,10)",name:""},domProps:{value:t.addText},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.add(e)},input:function(e){e.target.composing||(t.addText=e.target.value)}}})]),t._v(" "),i("a",{staticClass:"add",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.add(e)}}},[t._v("\n          新增\n        ")])])],2),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"",size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.sub}},[t._v("确定")])],1)])],1)},n=[],o={render:l,staticRenderFns:n},d=o,c=i("VU/8"),r=a,u=c(s,d,!1,r,null,null);e.default=u.exports}});